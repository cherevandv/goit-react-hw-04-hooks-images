(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),o=n(3),i=n.n(o),s=(n(16),n(17),n(4)),u=n(5);n(18),n(19),n(20);function l(e){var t=e.onSubmit,n=Object(r.useState)(""),a=Object(s.a)(n,2),o=a[0],i=a[1];return Object(c.jsx)("header",{className:"Searchbar",children:Object(c.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),""===o.trim())return Object(u.b)("Enter some image name");t(o),i("")},children:[Object(c.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(c.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(c.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){i(e.target.value.toLowerCase())}})]})})}var j=n(9);var m=function(e){var t=e.name,n=e.url,r=e.onClick;return Object(c.jsx)("li",{className:"ImageGalleryItem",children:Object(c.jsx)("img",{src:n,alt:t,className:"ImageGalleryItem-image",onClick:r})})},b=n(10),d=n.n(b);function h(e){var t=e.onClick;return Object(c.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})}var f=document.querySelector("#modal-root");function O(e){var t=e.image,n=e.onClose;Object(r.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]);return Object(o.createPortal)(Object(c.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&n()},children:Object(c.jsx)("div",{className:"Modal",children:Object(c.jsx)("img",{src:t.largeImageURL,alt:t.tags})})}),f)}function g(e,t){return fetch("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("19547883-c83eecf3fafc0cf8c7a25c2e3","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){return e.hits.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags}}))}))}function p(e){var t=e.query,n=Object(r.useState)([]),a=Object(s.a)(n,2),o=a[0],i=a[1],l=Object(r.useState)(1),b=Object(s.a)(l,2),f=b[0],p=b[1],v=Object(r.useState)(null),x=Object(s.a)(v,2),w=x[0],S=x[1],y=Object(r.useState)("idle"),k=Object(s.a)(y,2),C=k[0],N=k[1],L=Object(r.useState)(!1),E=Object(s.a)(L,2),I=E[0],F=E[1];Object(r.useEffect)((function(){i([]),p(1),S(null),N("pending"),g(t,1).then((function(e){i(e),0===e.length?(u.b.error("No such name exists"),N("idle")):(N("resolved"),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}))})).catch((function(){return N("rejected")}))}),[t]),Object(r.useEffect)((function(){1!==f&&(N("pending"),g(t,f).then((function(e){return i((function(t){return[].concat(Object(j.a)(t),Object(j.a)(e))}))})).then((function(){N("resolved"),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(){return N("rejected")})))}),[f]);var R=function(e){var t=o.findIndex((function(t){return t.webformatURL===e.target.src}));S(t),F(!0)};return Object(c.jsxs)(c.Fragment,{children:["rejected"===C&&u.b.error("oops ... something went wrong"),Object(c.jsx)("ul",{className:"ImageGallery",children:o.map((function(e,t){var n=e.tags,r=e.webformatURL;return Object(c.jsx)(m,{name:n,url:r,onClick:R},t)}))}),Object(c.jsxs)("div",{className:"container",children:["pending"===C&&Object(c.jsx)(d.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80}),o.length>0&&"resolved"===C&&Object(c.jsx)(h,{onClick:function(){p((function(e){return e+1}))}})]}),I&&Object(c.jsx)(O,{image:o[w],onClose:function(){F((function(e){return!e}))}})]})}function v(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)(l,{onSubmit:a}),Object(c.jsx)(u.a,{autoClose:3e3}),n&&Object(c.jsx)(p,{query:n})]})}i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.f8f6996d.chunk.js.map