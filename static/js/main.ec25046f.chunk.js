(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n(0),r=n.n(o),a=n(3),i=n.n(a),s=(n(16),n(17),n(4)),u=n(5);n(18),n(19),n(20);function l(e){var t=e.onSubmit,n=Object(o.useState)(""),r=Object(s.a)(n,2),a=r[0],i=r[1];return Object(c.jsx)("header",{className:"Searchbar",children:Object(c.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),""===a.trim())return Object(u.b)("Enter some image name");t(a),i("")},children:[Object(c.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(c.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(c.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:a,onChange:function(e){i(e.target.value.toLowerCase())}})]})})}var j=n(9);var m=function(e){var t=e.name,n=e.url,o=e.onClick;return Object(c.jsx)("li",{className:"ImageGalleryItem",children:Object(c.jsx)("img",{src:n,alt:t,className:"ImageGalleryItem-image",onClick:o})})},b=n(10),h=n.n(b);function f(e){var t=e.onClick;return Object(c.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})}var d=document.querySelector("#modal-root");function O(e){var t=e.image,n=e.onClose;Object(o.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]);return Object(a.createPortal)(Object(c.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&n()},children:Object(c.jsx)("div",{className:"Modal",children:Object(c.jsx)("img",{src:t.largeImageURL,alt:t.tags})})}),d)}function g(e,t){return fetch("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("19547883-c83eecf3fafc0cf8c7a25c2e3","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){return e.hits.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags}}))}))}function p(e){var t=e.query,n=Object(o.useState)([]),r=Object(s.a)(n,2),a=r[0],i=r[1],l=Object(o.useState)(1),b=Object(s.a)(l,2),d=b[0],p=b[1],v=Object(o.useState)(null),x=Object(s.a)(v,2),w=x[0],S=x[1],y=Object(o.useState)("idle"),k=Object(s.a)(y,2),C=k[0],N=k[1],L=Object(o.useState)(!1),E=Object(s.a)(L,2),I=E[0],F=E[1];Object(o.useEffect)((function(){i([]),p(1),S(null),N("pending"),g(t,1).then((function(e){i(e),0===e.length&&u.b.error("No such name exists")})).then((function(){N("resolved"),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(){return N("rejected")}))}),[t]),Object(o.useEffect)((function(){1!==d&&(N("pending"),g(t,d).then((function(e){return i((function(t){return[].concat(Object(j.a)(t),Object(j.a)(e))}))})).then((function(){N("resolved"),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(){return N("rejected")})))}),[d]);var R=function(e){var t=a.findIndex((function(t){return t.webformatURL===e.target.src}));S(t),F(!0)};return Object(c.jsxs)(c.Fragment,{children:["rejected"===C&&u.b.error("oops ... something went wrong"),Object(c.jsx)("ul",{className:"ImageGallery",children:a.map((function(e,t){var n=e.tags,o=e.webformatURL;return Object(c.jsx)(m,{name:n,url:o,onClick:R},t)}))}),Object(c.jsxs)("div",{className:"container",children:["pending"===C&&Object(c.jsx)(h.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80}),a.length>0&&"resolved"===C&&Object(c.jsx)(f,{onClick:function(){p((function(e){return e+1}))}})]}),I&&Object(c.jsx)(O,{image:a[w],onClose:function(){F((function(e){return!e}))}})]})}function v(){var e=Object(o.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)(l,{onSubmit:function(e){r(e)}}),Object(c.jsx)(u.a,{autoClose:3e3}),n&&Object(c.jsx)(p,{query:n})]})}i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.ec25046f.chunk.js.map